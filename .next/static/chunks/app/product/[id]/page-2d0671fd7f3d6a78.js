(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{685:function(e,t,s){Promise.resolve().then(s.bind(s,6859))},6859:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(7437),n=s(2265),i=s(3383),l=e=>{let{product:t,size:s}=e,[i,l]=(0,n.useState)(1),[a,c]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[a&&(0,r.jsx)("div",{className:"text-green-500",children:"تمت الإضافة إلى عربة التسوق"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{htmlFor:"quantity",className:"text-gray-700",children:"Quantity:"}),(0,r.jsxs)("div",{className:"relative ml-10",children:[(0,r.jsx)("button",{className:"absolute top-0 right-full h-full px-2 border-l rounded-l text-gray-600 hover:bg-gray-200 focus:outline-none focus:ring focus:border-blue-300",onClick:()=>l(e=>Math.min(e+1,10)),children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,r.jsx)("input",{className:"w-10 px-2 py-1 border rounded text-black focus:outline-none focus:ring focus:border-blue-300",id:"quantity",type:"number",min:"1",max:"10",value:i,onChange:e=>l(Number(e.target.value))}),(0,r.jsx)("button",{className:"absolute top-0 left-full h-full px-2 border-l rounded-r text-gray-600 hover:bg-gray-200 focus:outline-none focus:ring focus:border-blue-300",onClick:()=>l(e=>Math.max(e-1,1)),children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})})]})]}),(0,r.jsx)("button",{disabled:!s,onClick:()=>{let e=JSON.parse(localStorage.getItem("cart"))||[],r=e.findIndex(e=>e._id===t._id&&e.size===s);-1!==r?e[r].quantity+=i:e.push({...t,quantity:i,size:s}),localStorage.setItem("cart",JSON.stringify(e)),c(!0),setTimeout(()=>{c(!1)},2e3)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 ".concat(!s&&"opacity-50 cursor-not-allowed"),children:"Add to Cart"})]})},a=e=>{let{images:t}=e,[s,l]=(0,n.useState)(t[0]);return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("img",{className:"mt-20 w-full h-full sm:h-72 md:h-80 lg:h-96 xl:h-auto border border-gray-300 object-contain",src:(0,i.uH)(s).width(400).height(500).url(),alt:"Product image"}),(0,r.jsx)("div",{className:"mt-4 flex space-x-2",children:t.map((e,t)=>(0,r.jsx)("img",{className:"h-16 w-16 rounded-lg cursor-pointer ".concat(s._key===e._key?"border-2 border-blue-500":""),src:(0,i.uH)(e).width(100).height(100).url(),alt:"Thumbnail ".concat(t+1),onClick:()=>l(e)},t))})]})};async function c(e){return await i.Lp.fetch('*[_type == "product" && _id == $id][0] {\n        _id,\n        images,\n        price,\n        title,\n        description,\n        "categoryName": category->name,\n        price_id,\n        sizes\n      }',{id:e})}function o(e){var t;let{params:s}=e,[i,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{c(s.id).then(o)},[s.id]);let x=e=>{u(e)};return i?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsx)("div",{className:"bg-white max-w-screen-xl p-4 md:p-8",children:(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,r.jsx)(a,{images:i.images}),(0,r.jsxs)("div",{className:"md:py-8",children:[(0,r.jsxs)("div",{className:"mb-2 md:mb-3 text-center",children:[(0,r.jsx)("span",{className:"mb-0.5 inline-block text-gray-500",children:i.categoryName}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 lg:text-3xl",children:i.title})]}),(0,r.jsx)("div",{className:"mb-4 text-center flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,r.jsxs)("span",{className:"text-xl font-bold text-gray-800 md:text-2xl",children:["دينار ",i.price]})})}),(0,r.jsxs)("div",{className:"mb-6 text-center",children:[(0,r.jsx)("span",{className:"block text-gray-700 mb-2",children:"اختر المقاس:"}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:null===(t=i.sizes)||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)("button",{className:"px-4 py-2 border rounded-lg ".concat(d===e?"bg-indigo-500 text-white":"bg-gray-200 text-gray-700"," hover:bg-indigo-400 hover:text-white transition-colors duration-200"),onClick:()=>x(e),children:e},t))}),d&&(0,r.jsxs)("p",{className:"mt-2 text-gray-500",children:["المقاس المختار: ",d]})]}),(0,r.jsx)("div",{className:"flex gap-2.5 justify-center",children:(0,r.jsx)(l,{product:i,size:d})}),(0,r.jsx)("p",{className:"mt-12 text-base text-gray-500 tracking-wide text-center",children:i.description})]})]})})}):(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:"تحميل..."})}},3383:function(e,t,s){"use strict";s.d(t,{Lp:function(){return l},uH:function(){return c}});var r=s(8961),n=s(6103),i=s.n(n);let l=(0,r.eI)({projectId:"1pi0qth2",dataset:"production",apiVersion:"2021-03-25",useCdn:!0}),a=i()(l),c=e=>a.image(e)}},function(e){e.O(0,[923,971,23,744],function(){return e(e.s=685)}),_N_E=e.O()}]);